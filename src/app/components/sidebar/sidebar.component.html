<div class="sidebar-parent h-100 overflow-hidden d-flex flex-column">
  <div class="d-flex justify-content-center align-items-center groups-cont">
    <div class="search-bar input-group">
      <div class="input-group-prepend">
        <span class="input-group-text">
          <img src="../../../assets/img/search-icon-sidebar.svg" class="img-fluid search-circular-image cursor-hand"
            (click)="searchChats.focus(); search_box_focus = true" />
        </span>
      </div>
      <input (focus)="search_box_focus = true" (blur)="search_box_focus = false" type="text" id="searchUsers"
        class="form-control form-search-circular" [ngClass]="{'max-width-input': isSearchView, 'max-width-search-input': searchCtrl.value && currentTabSelected.value == 3 && previous_search_keyword != searchCtrl.value}" 
        autocomplete="off" [placeholder]="
          !search_box_focus
            ? 'Members, groups and messages... ' +
              (commonService.isMac ? '(\u2318 K)' : '(Ctrl + K)')
            : ''
        " [formControl]="searchCtrl" #searchChats (keydown)="hideChats ? onSearchBoxKeyDownEvent($event) : ''" />
        <div>
          <img *ngIf="searchCtrl.value && currentTabSelected.value != 3 || isSearchView && previous_search_keyword == searchCtrl.value" src="../../../assets/img/cross-icon-search.svg"
            class="position-absolute img-fluid search-circular-image cursor-hand" (click)="
              searchCtrl.reset();
              hideChats = false;
              searchResults = [];
              searchChats.focus()
            " />
        </div>
      <span *ngIf="searchCtrl.value && currentTabSelected.value == 3 && previous_search_keyword != searchCtrl.value" class="cursor-hand search-text"
        (click)="searchMessages()">Search</span>
    </div>
    <div class="groups-cont cursor-hand" (click)="showSidebarOptionsDropdown()">
      <!-- <img src="assets/img/three-dots-blue.svg" class="hw-18 three-dots" /> -->
      <svg class="three-dots" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
            <path class="stroke-plus" d="M12 5v14M5 12h14"/>
        </g>
    </svg>
    </div>
  </div>
  <div click-outside (clickOutside)="onSidebarOptionsClickOutside($event)" *ngIf="
      showSidebarDropdown &&
      spaceData.role != RoleStatusEnum.isGuest &&
      spaceData.role != RoleStatusEnum.isPayingGuest &&
      commonService.external_perm_options.is_create_group_allowed
    ">
    <div class="profile-dropdown-menu d-flex flex-column" >
      <span (click)="showInviteOptions()" *ngIf="
      spaceData.config.any_user_can_invite != 0 ||
      spaceData.role == RoleStatusEnum.isAdmin ||
      spaceData.role == RoleStatusEnum.isOwner
    " class="option cursor-hand d-flex align-items-center">
        <!-- <img src="assets/img/sidebar-invite.svg" class="pr-8 pl-16"> -->
        <span class="pr-8 pl-16">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g fill="none" fill-rule="evenodd" stroke="var(--chat-header-text)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" transform="translate(4 5)">
                <path d="M10.91 13.09v-1.454A2.91 2.91 0 0 0 8 8.727H2.91A2.91 2.91 0 0 0 0 11.637v1.454"/>
                <circle cx="5.455" cy="2.909" r="2.909"/>
                <path d="M13.818 3.636V8M16 5.818h-4.364"/>
            </g>
        </svg>
        </span>
      
        <a   id="inviteMember" class="">Invite
          Members</a>
      </span>
      <span (click)="open_browse_groups = true; this.closeSidebarOptionsPopup()" *ngIf="commonService.external_perm_options.is_create_group_allowed" class="option cursor-hand d-flex align-items-center">
        <!-- <img src="assets/img/create-group-black.svg" class="pr-8 pl-16"> -->
        <span class="pr-8 pl-16">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <defs>
            </defs>
            <g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" transform="translate(3 3)">
                <path stroke="var(--chat-header-text)" d="M11.636 17.09v-1.454a2.91 2.91 0 0 0-2.909-2.909H2.91A2.91 2.91 0 0 0 0 15.637v1.454"/>
                <circle cx="5.818" cy="6.909" r="2.909" stroke="var(--chat-header-text)"/>
                <path stroke="var(--chat-header-text)" d="M16 17.09v-1.454a2.91 2.91 0 0 0-2.182-2.814"/>
                <path stroke="var(--chat-header-text)" d="M10.91 4.095a2.91 2.91 0 0 1 0 5.636"/>
            </g>
        </svg>
        
        </span>
        <a class="" 
         id="browse-groups">Browse Groups</a>
      </span>
      <span (click)="createGroup()" *ngIf="
      commonService.external_perm_options.is_create_group_allowed &&
      spaceData.config.enable_create_group.includes(spaceData.role)
    " class="option cursor-hand d-flex align-items-center">
        <!-- <img src="assets/img/sidebar-group.svg" > -->
        <span class="pr-8 pl-16">
          <svg  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g fill="none" fill-rule="evenodd" stroke="var(--chat-header-text)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" transform="translate(3 3)">
                <path d="M11.636 17.09v-1.454a2.91 2.91 0 0 0-2.909-2.909H2.91A2.91 2.91 0 0 0 0 15.637v1.454"/>
                <circle cx="5.818" cy="6.909" r="2.909"/>
                <path d="M16 17.09v-1.454a2.91 2.91 0 0 0-2.182-2.814M10.91 4.095a2.91 2.91 0 0 1 0 5.636M17.182 0v4.364M19.364 2.182H15"/>
            </g>
        </svg>
        
        </span>
        <a class="" id="create-group" >
      Create Group</a>
      </span>    
    </div>
  </div>

  <div class="reminder mb-2 mt-1 d-flex align-items-center" *ngIf="showPunchReminder">
    <img class="mr-4 ml-3 mt-1" src="../../../assets/img/reminder.svg" />
    <div classname="d-flex flex-column w-100 h-100">

      <div class="d-flex">
    <span class="ml-2 mt-1">You haven't punched in yet</span>
      </div>
  <div class="d-flex justify-content-center mt-1">
  <span class="reminder__no mr-2 mb-1" (click)="dismissReminder()">Dismiss </span>
  <span class="reminder__yes mb-1" (click)="switchToPunch()">Punch in </span>
  </div>
    </div>
  </div>
  <div class="active-chats flex-grow" [ngClass]="{'overflow-hidden': currentTabSelected.value == 3}" #activeChatsContainer id="active-chats-container">
    <ng-container *ngIf="!isSearchView">
      <div
        class="position-relative chat cursor-hand pl-2 pt-2 pb-2 pr-0 mb-2 chat-outside-container d-flex align-items-center height-sidebar justify-content-center"
        *ngFor="
          let conversation of commonService.conversations
            | keyvalue
            | orderByKeyVal;
          trackBy: trackBySidebar;
          let i = index
        " [id]="conversation.key" [hidden]="hideChats" (click)="
          routeToPath(
            -1,
            conversation.value.channel_id,
            conversation.value.unread_count,
            conversation.value.channel_thumbnail_url
          )
        " [ngClass]="{ active: channel_id == conversation.key }">
        <!-- for normal groups -->
        <!--
                  two cases for chats
                  1. one for groups [3,4,5,6,8]
                  2. for one to one and bots [2,7]
                -->  
          <div *ngIf="conversation.value.other_user_status == 'DISABLED'" class="deactivate-layover position-absolute"></div>
        <ng-container *ngIf="[3, 4, 5, 6, 8].includes(conversation.value.chat_type)">
          <div *ngIf="
              conversation.value.channel_thumbnail_url ==
                commonService.noGroupImgURL && conversation.value.members_info;
              else channelImgElse
            " class="d-flex channel-image-layer hw-50 overflow-hidden rounded-img-fugu">
            <app-unnamed-image [members]="conversation.value.members_info" [dimensions]="{ height: 40, width: 40 }">
            </app-unnamed-image>
          </div>
          <ng-template #channelImgElse>
            <ng-container [ngTemplateOutlet]="channelImage" [ngTemplateOutletContext]="{ channel: conversation.value }">
            </ng-container>
          </ng-template>
        </ng-container>
        <ng-container *ngIf="[2, 7].includes(conversation.value.chat_type)">
          <div *ngIf="!conversation.value.channel_thumbnail_url; else o2oImgElse" class="channel-image rounded-img-fugu custom-image d-flex
                    justify-content-center align-items-center" [ngStyle]="{
              'background-color': conversation.value.channel_id | randomColor
            }">
            {{
              conversation.value.label?.substring(0, 1) == "+"
                ? "U"
                : conversation.value.label?.substring(0, 1)
            }}
          </div>
          <ng-template #o2oImgElse>
            <ng-container [ngTemplateOutlet]="channelImage" [ngTemplateOutletContext]="{ channel: conversation.value }">
            </ng-container>
          </ng-template>
        </ng-container>

        <div class="d-flex flex-column w-100 overflow-hidden justify-content-center margin-sidebar">
          <div class="d-flex align-items-center">
            <div class="flex-grow d-flex conv-label-parent">
              <p class="mb-0 conv-label">{{ conversation.value.label }}</p>
            </div>
            <span class="float-right d-flex justify-content-center align-items-center conv-time">
              {{
                conversation.value.date_time | time_converter: "conversations"
              }}
            </span>
          </div>

          <div class="d-flex justify-content-between align-items-center ht-24" *ngIf="conversation.value.message_state != 0">
            <p class="conv-message mb-0" *ngIf="
                [MessageTypeEnum.Text_Message].includes(
                  conversation.value.message_type
                )
              " [innerHTML]="
                (conversation.value
                  | prependConvnText: conversation.value.chat_type) +
                  conversation.value.message
                  | markdown
                  | emoji
              "></p>
            <p class="conv-message mb-0" *ngIf="conversation.value.message_type == MessageTypeEnum.Poll">
              {{
                conversation.value
                  | prependConvnText: conversation.value.chat_type
              }}
              Created a poll.
            </p>
            <p class="conv-message mb-0" *ngIf="
                conversation.value.message_type == MessageTypeEnum.Public_Notes
              ">
              {{ conversation.value.message }}
            </p>
            <p class="mb-0 conv-message" *ngIf="
                conversation.value.message_type ==
                MessageTypeEnum.Button_Message
              ">
              {{ conversation.value.message }}
            </p>
            <p class="conv-message mb-0" *ngIf="
                [
                  MessageTypeEnum.Media_Message,
                  MessageTypeEnum.File_Message,
                  MessageTypeEnum.Video_Message
                ].includes(conversation.value.message_type)
              ">
              {{
                (conversation.value
                  | prependConvnText: conversation.value.chat_type) +
                  "Sent an attachment"
              }}
            </p>
            <div class="d-flex mb-1 conv-message" *ngIf="
                conversation.value.message_type == MessageTypeEnum.Video_Call
              ">
              {{
                conversation.value.last_sent_by_id ==
                commonService.userDetails.user_id
                  ? "You:&nbsp;"
                  : ""
              }}
              <div class="video-message-text overflow-ellipsis" *ngIf="
                  conversation.value.message_state ==
                  MessageStateTypes.MISSED_CALL
                ">
                {{
                  conversation.value.last_sent_by_id ==
                  commonService.userDetails.user_id
                    ? conversation.value.label +
                      " missed a " +
                      (conversation.value.call_type == RTCCallTypeEnum.AUDIO
                        ? "audio"
                        : "video") +
                      " call with you."
                    : "You missed a " +
                      (conversation.value.call_type == RTCCallTypeEnum.AUDIO
                        ? "audio"
                        : "video") +
                      " call with " +
                      conversation.value.label +
                      "."
                }}
              </div>
              <div class="video-message-text overflow-ellipsis" *ngIf="
                  conversation.value.message_state ==
                  MessageStateTypes.COMPLETED_CALL
                ">
                The
                {{
                  conversation.value.call_type == RTCCallTypeEnum.AUDIO
                    ? "audio"
                    : "video"
                }}
                call ended.
              </div>
            </div>
            <div class="d-flex justify-content-end flex-grow action-options-sidebar position-relative h-100">
              <span *ngIf="conversation.value.is_pinned" class="" [ngClass]="{ 'bell-div': !( layoutService.mutedStatusObject[conversation.key] ==
                groupNotificationTypeEnum.MUTED ||
              layoutService.mutedStatusObject[conversation.key] ==
                groupNotificationTypeEnum.DIRECT_MENTIONS) }">
                <img src="assets/img/pin-gray.svg" class="">
              </span>
              <span *ngIf="
                  layoutService.mutedStatusObject[conversation.key] ==
                    groupNotificationTypeEnum.MUTED ||
                  layoutService.mutedStatusObject[conversation.key] ==
                    groupNotificationTypeEnum.DIRECT_MENTIONS
                " class="ml-1 bell-div" [ngClass]="{ 'mr-1': conversation.value.unread_count > 0 }">
                <img draggable="false" src="/assets/img/mute-icon-gray.svg" />
              </span>
              <span class="float-right d-flex justify-content-center align-items-center unread-count"
                *ngIf="conversation.value.unread_count > 0" [ngClass]="{'f-10': conversation.value.unread_count > 10, 'font-100': conversation.value.unread_count > 100}">
                {{ conversation.value.unread_count < 100 ? conversation.value.unread_count : '99+'}}
              </span>
              <span class="cursor-hand hover-parent">
                <svg (click)="
                $event.stopPropagation();
                down_arrow_index = i;
                clear_chat_temp_obj = conversation.value;
                openSidebarMenu($event)
              " [ngClass]="{ 'show-menu': i == down_arrow_index }"
              class="img-fluid cursor-hand msg-menu msg-menu-1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                  <defs>
                      <linearGradient id="a" x1="100%" x2="0%" y1="0%" y2="100%">
                          <stop class="stop" offset="0%" stop-color="var(--app-color)"/>
                          <stop class="stop"  offset="100%" stop-color="var(--app-color)"/>
                      </linearGradient>
                  </defs>
                  <g fill="none" fill-rule="evenodd">
                      <path fill="url(#a)" d="M20 6v16h-8a8 8 0 0 1-.25-15.996L12 6h8z" transform="translate(-4 -6)"/>
                      <rect width="16" height="16" rx="1.333"/>
                      <path stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M6.667 11.333l3-3-3-3"/>
                  </g>
              </svg>
<!--               
                <img draggable="false" src="/assets/img/hove-arrow.svg" (click)="
                    $event.stopPropagation();
                    down_arrow_index = i;
                    clear_chat_temp_obj = conversation.value;
                    openSidebarMenu($event)
                  " [ngClass]="{ 'show-menu': i == down_arrow_index }"
                  class="img-fluid cursor-hand msg-menu msg-menu-1" /> -->
                  <!-- <svg  (click)="
                  $event.stopPropagation();
                  down_arrow_index = i;
                  clear_chat_temp_obj = conversation.value;
                  openSidebarMenu($event)
                " [ngClass]="{ 'show-menu': i == down_arrow_index }"  class="img-fluid cursor-hand msg-menu msg-menu-1"  xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                    <defs>
                        <linearGradient id="a" x1="100%" x2="0%" y1="0%" y2="100%">
                            <stop class="stop" offset="0%" stop-color="#00C8FE"/>
                            <stop class="stop"  offset="100%" stop-color="#4FACFE"/>
                        </linearGradient>
                    </defs>
                    <g fill="none" fill-rule="evenodd">
                        <path fill="var(--app-color)" d="M20 6v16h-8a8 8 0 0 1-.25-15.996L12 6h8z" transform="translate(-4 -6)"/>
                        <rect width="16" height="16" rx="1.333"/>
                        <path stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M6.667 11.333l3-3-3-3"/>
                    </g>
                </svg>
                 -->
              </span>
            </div>
          </div>
          <div class="d-flex justify-content-between align-items-center ht-24" *ngIf="conversation.value.message_state == 0">
            <p class="conv-message mb-0 text-muted d-flex align-items-center deleted-text-message">
              <i class="fa fa-ban mr-1"></i>
              {{
                user_id == conversation.value.last_sent_by_id
                  ? "You deleted this message."
                  : "This message was deleted."
              }}
            </p>
            <div class="d-flex justify-content-end flex-grow action-options-sidebar position-relative h-100">
              <div *ngIf="
                  layoutService.mutedStatusObject[conversation.key] ==
                    groupNotificationTypeEnum.MUTED ||
                  layoutService.mutedStatusObject[conversation.key] ==
                    groupNotificationTypeEnum.DIRECT_MENTIONS
                " class="ml-2 bell-div" [ngClass]="{ 'mr-1': conversation.value.unread_count > 0 }">
                <!-- <i class="far fa-bell-slash"></i> -->
                <img draggable="false" src="/assets/img/mute-icon-gray.svg" />
              </div>
              <span class="float-right d-flex justify-content-center align-items-center unread-count"
                *ngIf="conversation.value.unread_count > 0" [ngClass]="{'f-10': conversation.value.unread_count > 10}">
                {{ conversation.value.unread_count }}
              </span>
              <span class="cursor-hand hover-parent">
              <!-- <img draggable="false" src="/assets/img/hove-arrow.svg" (click)="
                  $event.stopPropagation();
                  down_arrow_index = i;
                  clear_chat_temp_obj = conversation.value;
                  openSidebarMenu($event)
                " [ngClass]="{ 'show-menu': i == down_arrow_index }"
                class="img-fluid cursor-hand msg-menu msg-menu-2" /> -->

                <svg (click)="
                $event.stopPropagation();
                down_arrow_index = i;
                clear_chat_temp_obj = conversation.value;
                openSidebarMenu($event)
              " [ngClass]="{ 'show-menu': i == down_arrow_index }"
              class="img-fluid cursor-hand msg-menu msg-menu-2"  xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                  <defs>
                      <linearGradient id="a" x1="100%" x2="0%" y1="0%" y2="100%">
                          <stop class="stop" offset="0%" stop-color="var(--app-color)"/>
                          <stop class="stop"  offset="100%" stop-color="var(--app-color)"/>
                      </linearGradient>
                  </defs>
                  <g fill="none" fill-rule="evenodd">
                      <path fill="url(#a)" d="M20 6v16h-8a8 8 0 0 1-.25-15.996L12 6h8z" transform="translate(-4 -6)"/>
                      <rect width="16" height="16" rx="1.333"/>
                      <path stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M6.667 11.333l3-3-3-3"/>
                  </g>
              </svg>

                <!-- <svg (click)="
                $event.stopPropagation();
                down_arrow_index = i;
                clear_chat_temp_obj = conversation.value;
                openSidebarMenu($event)
              " [ngClass]="{ 'show-menu': i == down_arrow_index }"
              class="img-fluid cursor-hand msg-menu msg-menu-2"  xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                  <defs>
                      <linearGradient id="a" x1="100%" x2="0%" y1="0%" y2="100%">
                          <stop class="stop" offset="0%" stop-color="#00C8FE"/>
                          <stop class="stop"  offset="100%" stop-color="#4FACFE"/>
                      </linearGradient>
                  </defs>
                  <g fill="none" fill-rule="evenodd">
                      <path fill="var(--app-color)" d="M20 6v16h-8a8 8 0 0 1-.25-15.996L12 6h8z" transform="translate(-4 -6)"/>
                      <rect width="16" height="16" rx="1.333"/>
                      <path stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M6.667 11.333l3-3-3-3"/>
                  </g>
              </svg> -->
              </span>
            </div>
          </div>
        </div>
      </div>
    </ng-container>

    <!--search bar results-->
    <ng-container>
      <div class="h-100 d-flex flex-column" *ngIf="isSearchView">
        <div class="d-flex search-filters">
          <div *ngFor="let item of sidebarSearchFilterOptions">
            <div class="search-filter-options cursor-hand" [ngClass]="{
                'filter-active': item.value == currentTabSelected.value
              }" (click)="filterSearchResults(item)">
              {{ item.name }}
            </div>
          </div>
        </div>
        <!-- <span class="margin-sidebar font-semibold font-options" *ngIf="currentTabSelected.value == 1 || currentTabSelected.value == 0" >MEMBERS</span> -->
        <div class="height-filter-options" *ngIf="currentTabSelected.value == 1 || currentTabSelected.value == 0"
          [ngClass]="{ 'h-100': currentTabSelected.value == 1 }">
          <div class= "" *ngIf="
          !(searchResults.members && searchResults.members.length) &&
          currentTabSelected.value != 3 &&
          search_complete
        ">
        <p class="pt-1 text-center color-no-results">No results found.</p>
         </div>
          <div *ngFor="let result of searchResults.members; let i = index" class="abc" [ngClass]="{ active: i === activeIndex }"
            (click)="[3,4,5,6,8].includes(result.chat_type) ?
            routeToPath(-1,result.channel_id,0,result.channel_thumbnail_url) : routeToPath(result.user_id,-1,0,result.user_image);isSearchView = false;" class="">
            <ng-container [ngTemplateOutlet]="chatsSearch" [ngTemplateOutletContext]="{ result: result, i: i }">
            </ng-container>
          </div>
        </div>
        <!-- <span class="margin-sidebar font-semibold font-options" *ngIf="currentTabSelected.value == 2 || currentTabSelected.value == 0" >GROUPS</span> -->
        <div class="height-filter-options" *ngIf="currentTabSelected.value == 2 || currentTabSelected.value == 0"
          [ngClass]="{ 'h-100': currentTabSelected.value == 2 }">
          <div class= "" *ngIf="
          isSearchView &&
          !(searchResults && searchResults.groups && searchResults.groups.length) &&
          currentTabSelected.value != 3">
          <p class="pt-1 text-center color-no-results">No results found.</p>
        </div>
          <div *ngFor="let result of searchResults.groups; let i = index" (click)="
              routeToPath(
                -1,
                result.channel_id,
                0,
                result.channel_thumbnail_url
              );isSearchView = false;
            ">
            <ng-container [ngTemplateOutlet]="chatsSearch" [ngTemplateOutletContext]="{ result: result, i: i }">
            </ng-container>
          </div>
        </div>
        <!-- <span class="margin-sidebar font-semibold font-options" *ngIf="currentTabSelected.value == 3 || currentTabSelected.value == 0">MESSAGES</span> -->
        <div class="height-filter-options h-100" *ngIf="currentTabSelected.value == 3 || currentTabSelected.value == 0"
          [ngClass]="{ 'h-100': currentTabSelected.value == 3, 'overflow-hidden': currentTabSelected.value == 3}">
          <div class="h-100" *ngIf="currentTabSelected.value == 3">
            <!-- <div  *ngFor="let result of searchResults.messages;let i = index"> -->
            <!-- <ng-container [ngTemplateOutlet]="messageSearch" [ngTemplateOutletContext]="{result:result, i:i}"></ng-container> -->
            <app-search-messages [messages_data]="searchMessagesObject" (closeSearch)="search_view_open = false">
            </app-search-messages>
          </div>
        </div>
      </div>
      <ng-template #chatsSearch let-result="result" let-i="i">
        <div class="chat-outside-container pl-2" [id]="'results' + i" [ngClass]="{ active: i === activeIndex }">
          <div *ngIf="[3, 4, 5, 6, 8].includes(result.chat_type)"
            class="cursor-hand d-flex align-items-center height-sidebar">
            <div *ngIf="
                result.channel_thumbnail_url ==
                  'https://fuguchat.s3.ap-south-1.amazonaws.com/default/WwX5qYGSEb_1518441286074.png';
                else channelImage
              " class="d-flex channel-image-layer hw-50 overflow-hidden rounded-img-fugu">
              <app-unnamed-image [members]="result.members_info" [dimensions]="{ height: 40, width: 40 }">
              </app-unnamed-image>
            </div>
            <ng-template #channelImage>
              <img [src]="result.channel_thumbnail_url" class="channel-image rounded-img-fugu" draggable="false" />
            </ng-template>
            <div class="pl-2 pt-1 d-flex flex-column w-100 overflow-hidden">
              <p class="mb-0 conv-label">{{ result.label }}</p>
              <p class="conv-message mb-1 text-muted">
                {{ result.members ? result.members : "Public Group" }}
              </p>
            </div>
          </div>
          <div *ngIf="!result.chat_type" class="cursor-hand d-flex align-items-center height-sidebar position-relative">
            <div *ngIf="result.status == 'DISABLED'" class="deactivate-layover-search position-absolute"></div>
            <img *ngIf="result.user_image" [src]="result.user_image" class="rounded-img-fugu channel-image"
              draggable="false" />
            <div *ngIf="!result.user_image" class="channel-image rounded-img-fugu custom-image d-flex
           justify-content-center align-items-center" [ngStyle]="{ 'background-color': result.user_id | randomColor }">
              {{
                result.full_name.substring(0, 1) == "+"
                  ? "U"
                  : result.full_name.substring(0, 1)
              }}
            </div>
            <div class="pl-2 pt-1 d-flex flex-column w-100 overflow-hidden">
              <p class="mb-0 conv-label">{{ result.full_name }}</p>
              <p *ngIf="
                  !(spaceData.config.hide_email | parseInt) &&
                  (!result.email?.includes('@fuguchat.com') || !result.email?.includes('@junglework.auth'))
                " class="conv-message mb-1">
                {{ result.email }}
              </p>
              <p *ngIf="
                  (!(spaceData.config.hide_contact_number | parseInt) &&
                    (result.email?.includes('@fuguchat.com')) || result.email?.includes('@junglework.auth')) ||
                  !result.email
                " class="conv-message mb-1">
                {{ result.phone_number }}
              </p>
            </div>
          </div>
        </div>
      </ng-template>
    </ng-container>
  </div>
</div>
<div [hidden]="!menu_open" class="position-fixed sidebar-options-mask w-100 h-100"
  (click)="menu_open = false; down_arrow_index = null">
  <div class="sidebar-options-menu position-absolute pt-2 pb-2" id="sidebar-menu">
    <span (click)="muteGroup()" class="option d-flex align-items-center cursor-hand" *ngIf="
    clear_chat_temp_obj && ![2, 7].includes(clear_chat_temp_obj.chat_type)
  " >
      <!-- <img src="assets/img/sidebar-mute.svg" class="pl-16 pr-8"> -->
      <span class="pl-16 pr-8">
        <svg  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <g fill="none" fill-rule="evenodd" stroke="var(--chat-header-text)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
              <path d="M13.258 19.545a1.455 1.455 0 0 1-2.516 0M16.822 13.727a13.01 13.01 0 0 1-.458-3.636M7.825 8.825c-.126.41-.19.837-.189 1.266 0 5.09-2.181 6.545-2.181 6.545h10.181M16.364 10.09a4.364 4.364 0 0 0-6.786-3.635M4 5l16 16"/>
          </g>
      </svg>
      </span>
    
        <a class="sidebar-menu-option"
         >
          {{
            layoutService.mutedStatusObject[clear_chat_temp_obj.channel_id] ==
            groupNotificationTypeEnum.UNMUTED
              ? "Mute Group"
              : "Unmute Group"
          }}
        </a>
    </span>
    <span (click)="showDeleteChatModal = true" class="option d-flex align-items-center cursor-hand"  *ngIf="spaceData.config.clear_chat_history == '1'">
      <!-- <img src="assets/img/sidebar-delete.svg" class="pl-16 pr-8"> -->
      <span class="pl-16 pr-8">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <g fill="var(--chat-header-text)" fill-rule="evenodd">
              <path d="M18.538 3c1.078 0 1.962.905 1.962 2.01v10.72c0 1.104-.884 2.01-1.962 2.01H12.2L7.423 21v-3.26H5.462c-1.078 0-1.962-.906-1.962-2.01V5.01C3.5 3.905 4.384 3 5.462 3zm0 1.34H5.462a.654.654 0 0 0-.654.67v10.72c0 .376.286.67.654.67H8.73v2.098L11.8 16.4h6.737a.654.654 0 0 0 .654-.67V5.01a.654.654 0 0 0-.654-.67z"/>
              <path d="M10.044 7.276l-.973.995 2.45 2.508-2.45 2.508.973.995 2.456-2.503 2.456 2.503.973-.995-2.45-2.508 2.45-2.508-.973-.995L12.5 9.78z"/>
          </g>
      </svg>
      
      </span>
      <a class="sidebar-menu-option"
      >
      Delete Chat
    </a>
    </span>
    <span (click)="pinChat()" class="option d-flex align-items-center cursor-hand">
      <!-- <img src="assets/img/pin.svg" class="pl-16 pr-8"> -->
      <span class="pl-16 pr-8">
        <svg id="Capa_1" enable-background="new 0 0 512 512" height="20" viewBox="0 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg"><path fill="var(--chat-header-text)"  d="m505.41 144.476-137.886-137.886c-4.25-4.25-9.9-6.59-15.91-6.59s-11.66 2.341-15.909 6.59c-4.25 4.25-6.591 9.9-6.591 15.91s2.341 11.66 6.59 15.91l15.58 15.58-119.957 106.281c-24.641-5.338-50.396-4.701-74.742 1.879-26.421 7.14-50.674 21.201-70.135 40.663-1.407 1.406-2.197 3.314-2.197 5.303s.79 3.897 2.197 5.303l90.156 90.156-159.409 159.408c-11.09 11.09-17.197 25.834-17.197 41.517 0 4.142 3.358 7.5 7.5 7.5 15.683 0 30.427-6.107 41.517-17.197l159.409-159.409 90.156 90.156c1.465 1.464 3.385 2.197 5.304 2.197s3.839-.732 5.304-2.197c19.461-19.461 33.521-43.713 40.662-70.135 6.58-24.348 7.217-50.102 1.879-74.742l106.281-119.958 15.579 15.579c4.25 4.25 9.9 6.59 15.91 6.59s11.661-2.341 15.909-6.59c4.25-4.25 6.591-9.9 6.591-15.91-.001-6.008-2.342-11.658-6.591-15.908zm-467 339.721c-6.27 6.27-14.109 10.4-22.632 12.025 1.625-8.523 5.756-16.362 12.025-22.632l159.409-159.409 10.607 10.607zm265.339-74.692-201.254-201.254c34.561-31.19 81.416-43.425 127.142-32.974l107.087 107.088c10.448 45.726-1.786 92.58-32.975 127.14zm191.054-243.816c-1.416 1.417-3.3 2.196-5.303 2.196s-3.887-.78-5.303-2.197l-95.459-95.458c-2.93-2.928-7.678-2.93-10.607 0-2.929 2.929-2.929 7.678 0 10.606l69.254 69.254-104.159 117.563-98.878-98.878 122.846-108.841c1.548-1.372 2.461-3.321 2.522-5.387.063-2.067-.73-4.068-2.192-5.53l-21.214-21.214c-1.416-1.417-2.196-3.3-2.196-5.303s.78-3.886 2.197-5.303c1.416-1.417 3.3-2.197 5.303-2.197s3.887.78 5.303 2.197l137.887 137.886c1.416 1.417 2.196 3.3 2.196 5.303s-.78 3.886-2.197 5.303z"/></svg>
      </span>
      <a class="sidebar-menu-option"
      >
      {{
       clear_chat_temp_obj?.is_pinned
          ? "Unpin Chat"
          : "Pin Chat"
      }}
    </a>
    </span>
    <span (click)="leaveGroupPopup = true" class="option d-flex align-items-center cursor-hand"  *ngIf="
    clear_chat_temp_obj &&
    ![2, 5, 6, 7, 8].includes(clear_chat_temp_obj.chat_type)
  ">
      <!-- <img src="assets/img/sidebar-leave.svg" class="pl-16 pr-8"> -->
      <span class="pl-16 pr-8">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path fill="var(--chat-header-text)" fill-rule="nonzero" d="M5.714 4.5A1.72 1.72 0 0 0 4 6.214v11.429a1.72 1.72 0 0 0 1.714 1.714h11.429a1.72 1.72 0 0 0 1.714-1.714v-2.857l-1.143 1.143v1.714c0 .321-.25.571-.571.571H5.714a.564.564 0 0 1-.571-.571V6.214c0-.321.25-.571.571-.571h11.429c.321 0 .571.25.571.571V7.93l1.143 1.142V6.214A1.72 1.72 0 0 0 17.143 4.5H5.714zm9.407 3.455l-.813.804 2.598 2.598H8.571V12.5h8.335l-2.598 2.594.813.812 3.973-3.977-3.973-3.974z"/>
      </svg>
      </span>
    
      <a 
      class="sidebar-menu-option">
      Leave Group
    </a>
    </span>

  </div>
</div>

<ng-template #channelImage let-channel="channel">
  <img [src]="channel.channel_thumbnail_url" loading="lazy" class="channel-image rounded-img-fugu" />
</ng-template>

<app-message-modal *ngIf="showDeleteChatModal" [width]="'30%'" [@messageModalAnimation]
  (closeMessageModal)="showDeleteChatModal = false">
  <p class="message-modal-heading">
    Are you sure you want to delete this chat?
  </p>
  <div class="d-flex justify-content-end">
    <button type="button" class="message-modal-button mr-3 message-modal-button-red btn-red outline-none"
      (click)="showDeleteChatModal = false">
      Cancel
    </button>
    <button type="button" class="message-modal-button outline-none" (click)="clearChat(clear_chat_temp_obj)">
      Delete for me
    </button>
  </div>
</app-message-modal>
<app-browse-groups *ngIf="open_browse_groups" (closeBrowseGroups)="open_browse_groups = false"></app-browse-groups>
<app-invite-popup *ngIf="is_invite_open" (closeInvitesPopup)="is_invite_open = false"></app-invite-popup>
<!-- <app-message-modal *ngIf="showNotificationSettingsPopup && !commonService.notification_snooze_time" [width]="'30%'" [@messageModalAnimation]
  (closeMessageModal)="showNotificationSettingsPopup = false" [bgColor] = "commonService.notification_snooze_time">
  <div class="d-flex justify-content-between align-items-baseline">
  <p class="message-modal-heading">Notification Settings</p>
  </div>
  <div  *ngIf="!commonService.notification_snooze_time">
  <div class="d-flex flex-column">
    <div class="radio">
      <input id="ALL_CHATS" name="radio" type="radio" [(ngModel)]="notificationType" value="ALL_CHATS" />
      <label for="ALL_CHATS" class="radio-label">ALL CHATS</label>
    </div>

    <div class="radio">
      <input id="DIRECT_MESSAGES" name="radio" type="radio" [(ngModel)]="notificationType" value="DIRECT_MESSAGES" />
      <label for="DIRECT_MESSAGES" class="radio-label">DIRECT MESSAGES</label>
    </div>

    <div class="radio d-flex">
      <div class="mr-4">
        <input id="SNOOZE" name="radio" type="radio" [(ngModel)]="notificationType" value="SNOOZE" />
        <label for="SNOOZE" class="radio-label">SNOOZE</label>
      </div>
      <div *ngIf="notificationType == 'SNOOZE'"
        class="recurring-box d-flex align-items-center pl-3 pr-3 pt-2 pb-2 position-relative">
        <div (click)="showSnoozeBox = true" class="cursor-hand d-flex align-items-center theme-font-color" click-outside (clickOutside)="onSnoozeClickOutside($event)">
          <input type="text" readonly class="form-control-plaintext input-custom outline-none cursor-hand theme-font-color"
            [(ngModel)]="selectedSnoozeTime.description" [ngModelOptions]="{standalone: true}">
          <span class="fa fa-caret-down d-flex" aria-hidden="true"></span>
        </div>
        <div [hidden]="!showSnoozeBox" class="recurring-box-selection p-2 cursor-hand">
          <div *ngFor="let item of commonService.snoozeArray;let i = index" class="recurring-box-selection__option p-2"
            (click)="chooseSnoozeTime(i)"    [ngClass]="{'recurring-box-selection__option--selected': item.time_slot == selectedSnoozeTime.time_slot}">
            {{item.description}}
          </div>
        </div>
      </div>
    </div>
    <div class="radio">
      <input id="NONE" name="radio" type="radio" [(ngModel)]="notificationType" value="NONE" />
      <label for="NONE" class="radio-label">NONE</label>
    </div>
  </div>
  <div class="d-flex justify-content-end">
    <button class="message-modal-button outline-none message-modal-button-red btn-red outline-none mr-2"
      (click)="showNotificationSettingsPopup = false">
      Cancel
    </button>
    <button class="message-modal-button outline-none" (click)="editNotificationInfo()">
      Save
    </button>
  </div>
  </div>
</app-message-modal> -->
<!-- <app-notification-settings-popup *ngIf="showNotificationSettingsPopup" (closeNotificationPopup)="showNotificationSettingsPopup = false" ></app-notification-settings-popup> -->

<!-- <app-message-modal *ngIf="showNotificationSettingsPopup && commonService.notification_snooze_time" [width]="'24%'" [@messageModalAnimation]
  (closeMessageModal)="showNotificationSettingsPopup = false" [padding]="'0'" [bgColor] = "'#000'">
  <div class="d-flex justify-content-end align-items-baseline pl-3 pr-3 pt-3 pb-1">
    <span class="cursor-hand d-flex align-items-center" (click)="showNotificationSettingsPopup = false">
      <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
        <path opacity=".65" fill="#fff"
          d="M19.1 17.2l-5.3-5.3 5.3-5.3-1.8-1.8-5.3 5.4-5.3-5.3-1.8 1.7 5.3 5.3-5.3 5.3L6.7 19l5.3-5.3 5.3 5.3 1.8-1.8z">
        </path>
      </svg>
    </span>
  </div>
  <div class="d-flex flex-column snooze-parent pl-3 pr-3 pb-3 position-relative">
    <img src="assets/img/emoji-snooze.svg" class="cursor-hand emoji-snooze position-absolute" />
    <span class="color-white font">Snooze is <span class="on-text">ON</span></span>
    <span class="scheduled color-white">
      Scheduled until {{commonService.notification_snooze_time | time_converter:'chat'}} ,
      {{commonService.notification_snooze_time | date:'shortTime'}}
    </span>
  </div>
  <div class="d-flex button-send-message" (click)="endSnooze()">
    End Snooze
  </div>
</app-message-modal> -->

<app-message-modal *ngIf="leaveGroupPopup" [width]="'30%'" [@messageModalAnimation]
  (closeMessageModal)="leaveGroupPopup = false">
  <p class="message-modal-description">
    Are you sure you want to leave this group?
  </p>
  <div class="d-flex justify-content-end">
    <button class="message-modal-button message-modal-button-red btn-red outline-none mr-3"
      (click)="leaveGroupPopup = false">
      No
    </button>
    <button class="message-modal-button outline-none" (click)="leaveGroup()">
      Yes
    </button>
  </div>
</app-message-modal>

<app-message-modal *ngIf="showInviteOptionsPopup" [width]="'40%'" [@messageModalAnimation]>
  <div class="h-100 d-flex flex-column justify-content-between">
    <div class="d-flex align-items-center justify-content-between header-broadcast">
      <div>
        <span class="message-modal-heading mr-3">Invite people to {{ documentTitle }}</span>
      </div>
      <span (click)="showInviteOptionsPopup = false" class="margin-close-icon cursor-hand">
        <!-- <img src="assets/img/cross-icon.svg" class="cursor-hand close-icon" /> -->
        <span class="cursor-hand close-icon" >
        <svg fill="var(--chat-header-text)" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" version="1.1" width="20px" height="20px">
           <g id="surface1">
<path d="M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z "/>
</g>
</svg>

        </span>
      </span>
    </div>
    <div class="message-modal-description d-flex flex-column">
      <span class="heading-invite-options mt-2">Whom would you like to invite?</span>
      <div class="d-flex flex-column mt-4">
        <div class="d-flex invite-options-container p-4 align-items-center"
          (click)="is_invite_open = true; showInviteOptionsPopup = false">
          <!-- <img src="assets/img/members-icon.svg" class="no-guest-image invite-image-guest-member" /> -->
          <span class="no-guest-image invite-image-guest-member">
            <svg height="45" width="45"  fill="var(--chat-header-text)" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
viewBox="0 0 80.13 80.13" style="enable-background:new 0 0 80.13 80.13;" xml:space="preserve"
	>
<g>
	<path d="M48.355,17.922c3.705,2.323,6.303,6.254,6.776,10.817c1.511,0.706,3.188,1.112,4.966,1.112
		c6.491,0,11.752-5.261,11.752-11.751c0-6.491-5.261-11.752-11.752-11.752C53.668,6.35,48.453,11.517,48.355,17.922z M40.656,41.984
		c6.491,0,11.752-5.262,11.752-11.752s-5.262-11.751-11.752-11.751c-6.49,0-11.754,5.262-11.754,11.752S34.166,41.984,40.656,41.984
		z M45.641,42.785h-9.972c-8.297,0-15.047,6.751-15.047,15.048v12.195l0.031,0.191l0.84,0.263
		c7.918,2.474,14.797,3.299,20.459,3.299c11.059,0,17.469-3.153,17.864-3.354l0.785-0.397h0.084V57.833
		C60.688,49.536,53.938,42.785,45.641,42.785z M65.084,30.653h-9.895c-0.107,3.959-1.797,7.524-4.47,10.088
		c7.375,2.193,12.771,9.032,12.771,17.11v3.758c9.77-0.358,15.4-3.127,15.771-3.313l0.785-0.398h0.084V45.699
		C80.13,37.403,73.38,30.653,65.084,30.653z M20.035,29.853c2.299,0,4.438-0.671,6.25-1.814c0.576-3.757,2.59-7.04,5.467-9.276
		c0.012-0.22,0.033-0.438,0.033-0.66c0-6.491-5.262-11.752-11.75-11.752c-6.492,0-11.752,5.261-11.752,11.752
		C8.283,24.591,13.543,29.853,20.035,29.853z M30.589,40.741c-2.66-2.551-4.344-6.097-4.467-10.032
		c-0.367-0.027-0.73-0.056-1.104-0.056h-9.971C6.75,30.653,0,37.403,0,45.699v12.197l0.031,0.188l0.84,0.265
		c6.352,1.983,12.021,2.897,16.945,3.185v-3.683C17.818,49.773,23.212,42.936,30.589,40.741z"/>
</g>

</svg>
          </span>
          <div class="invite-description d-flex flex-column ml-3 cursor-hand">
            <span class="label-header">Team Members</span>
            <span class="sub-title-invite-options">
              Use this for members who belong to your organization. They will
              get access to all team members and public channels.
            </span>
          </div>
        </div>
        <div class="d-flex mt-3 invite-options-container p-4 mb-2 align-items-center" (click)="inviteAsGuest()">
          <!-- <img src="assets/img/guest-list.svg" class="no-guest-image invite-image-guest" /> -->
          <span class="no-guest-image invite-image-guest" >
<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg fill="var(--chat-header-text)" height="45" width="45" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
			<path d="M230.011,281.504h-57.754c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h57.754c4.142,0,7.5-3.358,7.5-7.5
				C237.511,284.862,234.153,281.504,230.011,281.504z"/>
			<path d="M144.342,368.867h-0.962c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h0.962c4.142,0,7.5-3.358,7.5-7.5
				C151.842,372.225,148.484,368.867,144.342,368.867z"/>
			<path d="M230.011,339.746h-57.754c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h57.754c4.142,0,7.5-3.358,7.5-7.5
				C237.511,343.104,234.153,339.746,230.011,339.746z"/>
			<path d="M269.476,339.746h-0.962c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h0.962c4.142,0,7.5-3.358,7.5-7.5
				C276.976,343.104,273.618,339.746,269.476,339.746z"/>
			<path d="M172.257,325.625h51.979c4.142,0,7.5-3.358,7.5-7.5c0-4.142-3.358-7.5-7.5-7.5h-51.979c-4.142,0-7.5,3.358-7.5,7.5
				C164.757,322.267,168.115,325.625,172.257,325.625z"/>
			<path d="M437.831,384.01c-2.228-2.015-4.929-3.385-7.807-4.017V56.035c0-14.84-12-26.914-26.751-26.914h-23.102h-16.364h-61.016
				h-6.564V17.207C296.228,7.719,288.546,0,279.102,0h-59.679c-9.443,0-17.125,7.719-17.125,17.207v11.914h-6.564H131.83h-13.476
				H95.251C80.5,29.121,68.5,41.195,68.5,56.035v429.051c0,14.84,12,26.914,26.751,26.914H327.23c4.142,0,7.5-3.358,7.5-7.5
				c0-4.142-3.358-7.5-7.5-7.5H95.251c-6.48,0-11.751-5.345-11.751-11.914V56.035c0-6.569,5.271-11.914,11.751-11.914h6.133
				c-0.093,0.724-0.157,1.458-0.157,2.207v407.695c0,14.84,12,26.914,26.751,26.914h287.045v4.148
				c0,6.569-5.271,11.914-11.751,11.914h-47.166c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h47.166
				c14.75,0,26.751-12.074,26.751-26.914v-7.711c8.043-4.646,13.476-13.37,13.476-23.351V396.8
				C443.5,391.93,441.434,387.269,437.831,384.01z M403.273,44.121c6.479,0,11.751,5.345,11.751,11.914v324.617l-17.727,1.788
				V46.328c0-0.749-0.064-1.483-0.157-2.207H403.273z M217.296,17.207L217.296,17.207c0.001-1.217,0.955-2.207,2.126-2.207h59.679
				c1.172,0,2.126,0.99,2.126,2.207v11.914h-63.931V17.207z M193.233,46.621c0-1.378,1.122-2.5,2.5-2.5h107.059
				c1.378,0,2.5,1.122,2.5,2.5v18.828c0,1.378-1.122,2.5-2.5,2.5H195.733c-1.378,0-2.5-1.122-2.5-2.5V46.621z M139.73,423.98v30.043
				c0,6.569-5.271,11.914-11.751,11.914c-6.479,0-11.751-5.345-11.751-11.914V46.328c0-1.217,0.954-2.207,2.125-2.207h13.476h46.604
				c-0.118,0.819-0.2,1.649-0.2,2.5v18.828c0,9.649,7.851,17.5,17.5,17.5h107.059c9.649,0,17.5-7.851,17.5-17.5V46.621
				c0-0.851-0.082-1.681-0.2-2.5h43.716h16.364c1.172,0,2.125,0.99,2.125,2.207v337.624l-227.151,22.907
				C146.357,407.745,139.73,415.105,139.73,423.98z M428.501,454.023c0,6.569-5.271,11.914-11.751,11.914H151.963
				c1.771-3.593,2.767-7.638,2.767-11.914V423.98c0-1.142,0.826-2.086,1.92-2.196l269.519-27.18
				c0.754-0.075,1.287,0.248,1.601,0.532c0.272,0.247,0.73,0.791,0.73,1.664V454.023z"/>
			<path d="M204.984,368.867h-32.727c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h32.727c4.142,0,7.5-3.358,7.5-7.5
				C212.484,372.225,209.126,368.867,204.984,368.867z"/>
			<path d="M144.342,281.504h-0.962c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h0.962c4.142,0,7.5-3.358,7.5-7.5
				C151.842,284.862,148.484,281.504,144.342,281.504z"/>
			<path d="M144.342,310.625h-0.962c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h0.962c4.142,0,7.5-3.358,7.5-7.5
				C151.842,313.983,148.484,310.625,144.342,310.625z"/>
			<path d="M269.476,310.625h-0.962c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h0.962c4.142,0,7.5-3.358,7.5-7.5
				C276.976,313.983,273.618,310.625,269.476,310.625z"/>
			<path d="M258.108,247.969c0.02,0,0.04-0.004,0.06-0.004c0.025,0,0.048,0.004,0.073,0.004h77.249c4.076,0,7.88-2.018,10.175-5.396
				c2.307-3.397,2.78-7.706,1.265-11.525l-11.771-29.675c-4.081-10.29-13.834-16.938-24.846-16.938h-44.72
				c-6.007,0-11.706,2.013-16.314,5.587c-4.571-3.55-10.263-5.587-16.346-5.587h-44.72c-11.012,0-20.765,6.649-24.846,16.938
				l-11.771,29.676c-1.514,3.819-1.041,8.127,1.267,11.524c2.295,3.379,6.099,5.396,10.174,5.396H258.108z M265.592,199.434h44.72v0
				c4.824,0,9.104,2.932,10.903,7.469l10.339,26.066h-61.439c-0.142-0.649-0.318-1.293-0.567-1.921l-11.446-28.858
				C260.182,200.439,262.809,199.434,265.592,199.434z M177.309,206.902c1.799-4.537,6.079-7.469,10.902-7.469h44.72
				c4.824,0,9.104,2.932,10.903,7.469l10.339,26.066H166.97L177.309,206.902z"/>
			<path d="M144.342,339.746h-0.962c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h0.962c4.142,0,7.5-3.358,7.5-7.5
				C151.842,343.104,148.484,339.746,144.342,339.746z"/>
			<path d="M287.953,170.313c17.404,0,31.564-14.251,31.564-31.768c0-17.517-14.16-31.768-31.564-31.768
				c-17.405,0-31.564,14.251-31.564,31.768C256.389,156.062,270.548,170.313,287.953,170.313z M287.953,121.777
				c9.133,0,16.564,7.522,16.564,16.768c0,9.246-7.431,16.768-16.564,16.768c-9.134,0-16.564-7.522-16.564-16.768
				C271.389,129.299,278.819,121.777,287.953,121.777z"/>
			<path d="M210.572,170.313c17.404,0,31.564-14.251,31.564-31.768c0-17.517-14.16-31.768-31.564-31.768
				c-17.405,0-31.564,14.251-31.564,31.768C179.008,156.062,193.167,170.313,210.572,170.313z M210.572,121.777
				c9.133,0,16.564,7.522,16.564,16.768c0,9.246-7.431,16.768-16.564,16.768c-9.134,0-16.564-7.522-16.564-16.768
				C194.008,129.299,201.438,121.777,210.572,121.777z"/>
			<path d="M269.476,281.504h-0.962c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h0.962c4.142,0,7.5-3.358,7.5-7.5
				C276.976,284.862,273.618,281.504,269.476,281.504z"/>
			<path d="M339.743,339.746H297.39c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h42.353c4.142,0,7.5-3.358,7.5-7.5
				C347.243,343.104,343.885,339.746,339.743,339.746z"/>
			<path d="M289.891,289.004c0,4.142,3.358,7.5,7.5,7.5h57.754c4.142,0,7.5-3.358,7.5-7.5c0-4.142-3.358-7.5-7.5-7.5h-57.754
				C293.249,281.504,289.891,284.862,289.891,289.004z"/>
			<path d="M297.391,325.625h32.727c4.142,0,7.5-3.358,7.5-7.5c0-4.142-3.358-7.5-7.5-7.5h-32.727c-4.142,0-7.5,3.358-7.5,7.5
				C289.891,322.267,293.249,325.625,297.391,325.625z"/>
</svg>

          </span>
          <div class="invite-description d-flex flex-column ml-3 cursor-hand">
            <span class="label-header">Guest</span>
            <span class="sub-title-invite-options">
              Use this for users outside your organization such as customers,
              vendors, agencies or freelancers. They can access specified
              channels and contacts only.
            </span>
          </div>
        </div>
      </div>
      <p class="mb-0 app-color cursor-hand text-center underline" *ngIf="!showInvitedUsers"
        (click)="showInvitedUsers = true; showInviteOptionsPopup = false">
        See pending and accepted invites
      </p>
    </div>
  </div>
</app-message-modal>

<app-invite-guests *ngIf="showInviteGuestPopup" (closeGuestInvite)="showInviteGuestPopup = false"
  (showSelectMembersandChannels)="showSelectMembersandChannels($event)"></app-invite-guests>

<app-guest-fields-popup *ngIf="showMembersAndChannels" [inviteContactObj]="inviteContactObj" [setGuestFields]="true"
  (closeGuestFieldsPopup)="
    showMembersAndChannels = false; guest_settings = null
  ">
</app-guest-fields-popup>
<app-invited-users *ngIf="showInvitedUsers" (closeInvited)="showInvitedUsers = false"></app-invited-users>
<div class="invite-option-sidebar d-flex mr-2 ml-2" *ngIf="(spaceData.config.any_user_can_invite != 0 ||
spaceData.role == RoleStatusEnum.isAdmin ||
spaceData.role == RoleStatusEnum.isOwner) && ((commonService.conversations | keys).length > 1 && (commonService.conversations | keys).length <= 5)">
    <img src="assets/img/invite-people.svg"  />
    <div class="d-flex flex-column ml-2">
         <span class="invite-option-sidebar__text" >Invite your teammates to collaboarte with you!
         </span>
          <button class="btn btn-next btn-40 d-flex align-items-center pl-4 pr-4 pt-1 justify-content-center mt-2" (click)="showInviteOptions()">Invite
          </button>
    </div>
  </div>
