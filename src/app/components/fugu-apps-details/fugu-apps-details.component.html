<div class="d-flex w-100 h-100 flex-column">
  <div class="d-flex flex-column container p-4" *ngIf="appDetails && !showSecretSanta">
    <div class="d-flex">
      <div class="d-flex flex-column w-25 p-3">
        <img [src]="appDetails.icon" alt="logo" class="app-logo w-100 mt-3 mb-5">
        <div *ngIf="appDetails.status == null" class="btn btn-success cursor-hand" (click)="currentAppId == 12 ? openInputPopup = true : openInstallation()">Install</div>
        <div *ngIf="[0,1].includes(appDetails.status)" class="btn cursor-hand"
        [ngClass]="{'btn-danger': appDetails.status == 1, 'btn-success':  appDetails.status == 0 }" (click)="appDetails.status == 0  && currentAppId == 12 ? openInputPopup = true : editApp()">
          {{appDetails.status == 1 ? 'Disable' : 'Enable'}}
        </div>
        <div *ngIf="appDetails.status && appDetails.type == 'WEBHOOK'" class="mt-2 btn btn-secondary cursor-hand"
             [routerLink]="['../../../apps/details/'
         + currentAppId + '/configuration/' + appDetails.page_url]">Configure</div>
        <div *ngIf="appDetails.status && currentAppId == 14" class="mt-2 btn btn-secondary cursor-hand"
             (click)="showSecretSanta = true">Configure</div>
        <p class="mt-3 mb-1">Categories:</p>
        <div class="app-details__categories d-flex flex-wrap pl-2">
          <div *ngFor="let category of appDetails.categories" class="app-details__category mr-2 mb-2">{{category}}</div>
        </div>
      </div>
      <div class="d-flex flex-column p-4 w-75">
        <p class="app-details__header">{{appDetails.name}}</p>
        <p class="app-details__info-heading">Info</p>
        <p *ngIf="currentAppId == 12 && appDetails.hrm_api_key">API KEY: {{appDetails.hrm_api_key}}</p>
        <p>{{appDetails.description}}</p>
        <!-- <div *ngIf="appDetails.desc_pics.length" class="app-details__image-box">
          <img *ngFor="let item of appDetails.desc_pics" class="app-details__image w-100 mb-4" [src]="item">
        </div> -->
      </div>
    </div>
  </div>
  <app-secret-santa class="w-100 h-100" *ngIf="showSecretSanta"></app-secret-santa>

  
<app-message-modal *ngIf="openInputPopup" [width]="'30%'"
(closeMessageModal)="openInputPopup = false">
<span>Auth Token</span>
<input type="text" class="form-control box-shawdow-none mb-2" [(ngModel)]="authToken">
<span>HRM Url</span>
<input type="text" class="form-control box-shawdow-none" [(ngModel)]="hrmUrl">
<div class="d-flex justify-content-end">
  <button class="message-modal-button message-modal-button-red btn-red outline-none mr-3" type="button"
    (click)="openInputPopup = false">Cancel</button>
  <button class="message-modal-button outline-none" type="button" (click)="openInstallation()">Done</button>
</div>
</app-message-modal>